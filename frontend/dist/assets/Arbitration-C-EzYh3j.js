import{u as N,a as O,r as i,c as X,o as $,b as o,d as A,e as t,f as x,n as j,t as l,w as v,v as B,F as C,g as T,h as M,i as Z,j as r}from"./index-YAG9yAAw.js";const L={class:"min-h-screen bg-gradient-to-br from-neutral-50 to-primary-50/20"},W={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},q={class:"mb-8"},E={class:"glass-effect rounded-2xl p-8 border border-neutral-200/50"},P={class:"flex items-center justify-between mb-6"},G={class:"flex items-center space-x-2"},J={key:0,class:"text-center py-8"},K={class:"text-neutral-600 mb-6 max-w-md mx-auto"},Q={class:"space-y-4"},Y={class:"flex items-center justify-center space-x-4"},tt=["min","placeholder"],et=["disabled"],st={key:1,class:"grid grid-cols-1 md:grid-cols-3 gap-6"},lt={class:"text-center"},ot={class:"text-3xl font-bold text-primary-600 mb-2"},rt={class:"text-center"},nt={class:"text-3xl font-bold text-green-600 mb-2"},at={class:"text-center"},it={class:"text-3xl font-bold text-yellow-600 mb-2"},dt={key:0,class:"mb-8"},ut={class:"glass-effect rounded-2xl p-8 border border-neutral-200/50"},ct={key:0,class:"text-center py-8"},mt={class:"text-sm text-neutral-500"},xt={key:1,class:"text-center py-4"},vt={key:1,class:"mb-8"},pt={class:"glass-effect rounded-2xl p-8 border border-neutral-200/50"},bt={key:0,class:"text-center py-8"},ft={key:1,class:"space-y-6"},gt={class:"flex items-start justify-between mb-4"},yt={class:"text-lg font-semibold text-neutral-800 mb-2"},ht={class:"flex items-center space-x-4 text-sm text-neutral-600"},kt={class:"mb-4"},wt={class:"text-neutral-600 bg-neutral-50 p-3 rounded-lg"},_t={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},At={class:"text-neutral-600 bg-blue-50 p-3 rounded-lg"},jt={class:"text-neutral-600 bg-green-50 p-3 rounded-lg"},Ct={class:"mb-4"},Tt={class:"flex flex-wrap gap-2"},Mt={class:"flex items-center justify-between pt-4 border-t border-neutral-200"},St={class:"text-sm text-neutral-600"},Dt={class:"flex space-x-3"},Bt=["onClick"],Vt={key:2,class:"mb-8"},Rt={class:"glass-effect rounded-2xl p-8 border border-neutral-200/50"},Ht={key:0,class:"text-center py-8"},zt={key:1,class:"space-y-4"},Ft={class:"flex items-center justify-between mb-2"},It={class:"font-semibold text-neutral-800"},Ut={class:"text-sm text-neutral-600"},Nt={key:0,class:"space-y-6"},Ot={class:"text-lg font-semibold text-neutral-800 mb-2"},Xt={class:"text-neutral-600"},$t={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Zt={class:"border border-neutral-200 rounded-lg p-4"},Lt={class:"font-medium text-neutral-800 mb-2"},Wt={class:"text-neutral-600 text-sm"},qt={class:"border border-neutral-200 rounded-lg p-4"},Et={class:"font-medium text-neutral-800 mb-2"},Pt={class:"text-neutral-600 text-sm"},Gt={class:"space-y-3"},Jt={class:"flex items-center"},Kt={class:"flex items-center"},Qt={class:"flex items-center"},Yt={class:"flex justify-end space-x-4 pt-4 border-t border-neutral-200"},te=["disabled"],le={__name:"Arbitration",setup(ee){const g=N();O();const d=i({isArbitrator:!1,isActive:!1,stakedAmount:"0",casesHandled:0,reputation:100}),p=i("10.0"),m=i(""),y=i(!1),V=i(1),R=i(12),H=i("2小时30分钟"),b=i([{id:"ARB-001",taskTitle:"智能合约安全审计报告",taskId:4,disputeAmount:"20.0",disputeReason:"雇主认为审计报告不够详细，缺少关键漏洞分析",employer:"0x4567890123456789012345678901234567890123",freelancer:"0xauditor1",employerStatement:"提交的审计报告过于简单，没有深入分析潜在的重入攻击和溢出漏洞，不符合我们的要求标准。",freelancerStatement:"我已经按照合约要求完成了全面的安全审计，报告中包含了所有发现的漏洞和修复建议，完全符合任务要求。",evidence:["audit-report.pdf","code-analysis.xlsx","test-results.json"],submittedAt:"2024-02-21T10:30:00.000Z",deadline:"2024-02-28T23:59:59.000Z"}]),h=i([{id:"ARB-H-001",taskTitle:"DeFi协议前端开发",result:"支持雇佣兵",arbitratedAt:"2024-01-20T14:30:00.000Z",reward:"0.5"},{id:"ARB-H-002",taskTitle:"NFT市场UI设计",result:"支持雇主",arbitratedAt:"2024-01-15T09:15:00.000Z",reward:"0.3"}]),k=i(!1),u=i(null),a=i(""),c=i(""),S=X(()=>g.isConnected&&parseFloat(m.value)>=parseFloat(p.value)&&parseFloat(g.balance)>=parseFloat(m.value)),z=async()=>{if(S.value)try{console.log("质押成为仲裁员:",m.value),d.value={isArbitrator:!0,isActive:!0,stakedAmount:m.value,casesHandled:0,reputation:100},setTimeout(()=>{y.value=!0},2e3),alert("质押成功！您已成为DAO仲裁员")}catch(n){console.error("质押失败:",n),alert("质押失败: "+n.message)}},F=n=>{u.value=n,k.value=!0,a.value="",c.value=""},f=()=>{k.value=!1,u.value=null,a.value="",c.value=""},I=async()=>{if(!(!a.value||!c.value.trim()))try{console.log("提交仲裁结果:",{caseId:u.value.id,decision:a.value,reason:c.value});const n=b.value.findIndex(e=>e.id===u.value.id);n>-1&&b.value.splice(n,1),h.value.unshift({id:`ARB-H-${Date.now()}`,taskTitle:u.value.taskTitle,result:a.value==="employer"?"支持雇主":a.value==="freelancer"?"支持雇佣兵":"部分支持",arbitratedAt:new Date().toISOString(),reward:"0.5"}),d.value.casesHandled++,f(),alert("仲裁结果已提交！")}catch(n){console.error("提交仲裁失败:",n),alert("提交失败: "+n.message)}},U=n=>({支持雇主:"bg-blue-100 text-blue-800",支持雇佣兵:"bg-green-100 text-green-800",部分支持:"bg-yellow-100 text-yellow-800"})[n]||"bg-gray-100 text-gray-800",w=n=>new Date(n).toLocaleDateString("zh-CN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=n=>n?`${n.slice(0,6)}...${n.slice(-4)}`:"";return $(async()=>{g.isConnected&&console.log("检查仲裁员状态...")}),(n,e)=>(r(),o("div",L,[e[32]||(e[32]=A('<div class="bg-gradient-to-r from-primary-600 to-primary-700 text-white"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16"><div class="text-center"><div class="flex items-center justify-center mb-6"><div class="w-16 h-16 business-gradient rounded-2xl flex items-center justify-center shadow-business"><svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg></div></div><h1 class="text-4xl font-bold mb-4">DAO治理仲裁中心</h1><p class="text-xl text-primary-100 max-w-2xl mx-auto"> 去中心化自治组织治理，公平公正处理争议案例 </p></div></div></div>',1)),t("div",W,[t("div",q,[t("div",E,[t("div",P,[e[6]||(e[6]=t("h2",{class:"text-2xl font-bold text-neutral-800"},"仲裁员状态",-1)),t("div",G,[t("div",{class:j(["w-3 h-3 rounded-full",d.value.isActive?"bg-green-500":"bg-gray-400"])},null,2),t("span",{class:j(["text-sm font-medium",d.value.isActive?"text-green-600":"text-gray-600"])},l(d.value.isActive?"活跃仲裁员":"非仲裁员"),3)])]),d.value.isArbitrator?(r(),o("div",st,[t("div",lt,[t("div",ot,l(d.value.stakedAmount),1),e[10]||(e[10]=t("div",{class:"text-sm text-neutral-600"},"已质押 AVAX",-1))]),t("div",rt,[t("div",nt,l(d.value.casesHandled),1),e[11]||(e[11]=t("div",{class:"text-sm text-neutral-600"},"处理案例数",-1))]),t("div",at,[t("div",it,l(d.value.reputation),1),e[12]||(e[12]=t("div",{class:"text-sm text-neutral-600"},"信誉评分",-1))])])):(r(),o("div",J,[e[8]||(e[8]=t("div",{class:"w-20 h-20 bg-gradient-to-r from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center mx-auto mb-6"},[t("svg",{class:"w-10 h-10 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m0 0v2m0-2h2m-2 0h-2m9-5a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e[9]||(e[9]=t("h3",{class:"text-xl font-semibold text-neutral-800 mb-4"},"成为DAO仲裁员",-1)),t("p",K," 质押 "+l(p.value)+" AVAX 成为DAO治理仲裁员，参与争议案例的公正裁决 ",1),t("div",Q,[t("div",Y,[v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>m.value=s),type:"number",min:p.value,placeholder:`最少质押 ${p.value} AVAX`,class:"px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,8,tt),[[B,m.value]]),t("button",{onClick:z,disabled:!S.value,class:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed"}," 质押成为仲裁员 ",8,et)]),e[7]||(e[7]=t("p",{class:"text-sm text-neutral-500"}," 质押资金将被锁定，恶意仲裁将面临资金损失风险 ",-1))])]))])]),d.value.isArbitrator?(r(),o("div",dt,[t("div",ut,[e[15]||(e[15]=t("h2",{class:"text-2xl font-bold text-neutral-800 mb-6"},"轮播状态",-1)),y.value?(r(),o("div",xt,e[14]||(e[14]=[A('<div class="w-20 h-20 bg-gradient-to-r from-green-100 to-green-200 rounded-2xl flex items-center justify-center mx-auto mb-6"><svg class="w-10 h-10 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h3 class="text-xl font-semibold text-green-800 mb-4">轮到您处理仲裁案例</h3><p class="text-green-600">您现在可以处理待仲裁的争议案例</p>',3)]))):(r(),o("div",ct,[e[13]||(e[13]=A('<div class="w-20 h-20 bg-gradient-to-r from-yellow-100 to-yellow-200 rounded-2xl flex items-center justify-center mx-auto mb-6"><svg class="w-10 h-10 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h3 class="text-xl font-semibold text-neutral-800 mb-4">暂未轮到当前账户</h3><p class="text-neutral-600 mb-4">请耐心等待轮到您处理仲裁案例</p>',3)),t("div",mt,[t("p",null,"当前轮播位置: "+l(V.value)+" / "+l(R.value),1),t("p",null,"预计等待时间: "+l(H.value),1)])]))])])):x("",!0),d.value.isArbitrator&&y.value?(r(),o("div",vt,[t("div",pt,[e[22]||(e[22]=t("h2",{class:"text-2xl font-bold text-neutral-800 mb-6"},"待仲裁案例",-1)),b.value.length===0?(r(),o("div",bt,e[16]||(e[16]=[t("div",{class:"w-16 h-16 bg-gradient-to-r from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-4"},[t("svg",{class:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1),t("p",{class:"text-neutral-600"},"暂无待仲裁案例",-1)]))):(r(),o("div",ft,[(r(!0),o(C,null,T(b.value,s=>(r(),o("div",{key:s.id,class:"border border-neutral-200 rounded-xl p-6"},[t("div",gt,[t("div",null,[t("h3",yt,l(s.taskTitle),1),t("div",ht,[t("span",null,"案例ID: "+l(s.id),1),t("span",null,"争议金额: "+l(s.disputeAmount)+" AVAX",1),t("span",null,"提交时间: "+l(w(s.submittedAt)),1)])]),e[17]||(e[17]=t("span",{class:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium"}," 待仲裁 ",-1))]),t("div",kt,[e[18]||(e[18]=t("h4",{class:"font-medium text-neutral-800 mb-2"},"争议描述:",-1)),t("p",wt,l(s.disputeReason),1)]),t("div",_t,[t("div",null,[e[19]||(e[19]=t("h4",{class:"font-medium text-neutral-800 mb-2"},"雇主观点:",-1)),t("p",At,l(s.employerStatement),1)]),t("div",null,[e[20]||(e[20]=t("h4",{class:"font-medium text-neutral-800 mb-2"},"雇佣兵观点:",-1)),t("p",jt,l(s.freelancerStatement),1)])]),t("div",Ct,[e[21]||(e[21]=t("h4",{class:"font-medium text-neutral-800 mb-2"},"相关证据:",-1)),t("div",Tt,[(r(!0),o(C,null,T(s.evidence,_=>(r(),o("span",{key:_,class:"px-3 py-1 bg-neutral-100 text-neutral-700 rounded-lg text-sm"},l(_),1))),128))])]),t("div",Mt,[t("div",St," 仲裁截止时间: "+l(w(s.deadline)),1),t("div",Dt,[t("button",{onClick:_=>F(s),class:"btn-primary px-4 py-2 text-sm"}," 开始仲裁 ",8,Bt)])])]))),128))]))])])):x("",!0),d.value.isArbitrator?(r(),o("div",Vt,[t("div",Rt,[e[24]||(e[24]=t("h2",{class:"text-2xl font-bold text-neutral-800 mb-6"},"仲裁历史",-1)),h.value.length===0?(r(),o("div",Ht,e[23]||(e[23]=[t("p",{class:"text-neutral-600"},"暂无仲裁历史记录",-1)]))):(r(),o("div",zt,[(r(!0),o(C,null,T(h.value,s=>(r(),o("div",{key:s.id,class:"border border-neutral-200 rounded-lg p-4"},[t("div",Ft,[t("h3",It,l(s.taskTitle),1),t("span",{class:j(["px-2 py-1 rounded-full text-xs font-medium",U(s.result)])},l(s.result),3)]),t("div",Ut,[t("p",null,"仲裁时间: "+l(w(s.arbitratedAt)),1),t("p",null,"获得奖励: "+l(s.reward)+" AVAX",1)])]))),128))]))])])):x("",!0)]),k.value?(r(),o("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:f},[t("div",{class:"bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e[5]||(e[5]=Z(()=>{},["stop"]))},[t("div",{class:"flex items-center justify-between mb-6"},[e[26]||(e[26]=t("h2",{class:"text-2xl font-bold text-neutral-800"},"仲裁案例处理",-1)),t("button",{onClick:f,class:"text-neutral-500 hover:text-neutral-700"},e[25]||(e[25]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),u.value?(r(),o("div",Nt,[t("div",null,[t("h3",Ot,l(u.value.taskTitle),1),t("p",Xt,l(u.value.disputeReason),1)]),t("div",$t,[t("div",Zt,[t("h4",Lt,"雇主 ("+l(D(u.value.employer))+")",1),t("p",Wt,l(u.value.employerStatement),1)]),t("div",qt,[t("h4",Et,"雇佣兵 ("+l(D(u.value.freelancer))+")",1),t("p",Pt,l(u.value.freelancerStatement),1)])]),t("div",null,[e[30]||(e[30]=t("h4",{class:"font-medium text-neutral-800 mb-3"},"仲裁决定",-1)),t("div",Gt,[t("label",Jt,[v(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.value=s),value:"employer",type:"radio",class:"mr-3"},null,512),[[M,a.value]]),e[27]||(e[27]=t("span",null,"支持雇主 - 雇佣兵未完成任务要求",-1))]),t("label",Kt,[v(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.value=s),value:"freelancer",type:"radio",class:"mr-3"},null,512),[[M,a.value]]),e[28]||(e[28]=t("span",null,"支持雇佣兵 - 任务已按要求完成",-1))]),t("label",Qt,[v(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.value=s),value:"partial",type:"radio",class:"mr-3"},null,512),[[M,a.value]]),e[29]||(e[29]=t("span",null,"部分支持 - 需要协商解决",-1))])])]),t("div",null,[e[31]||(e[31]=t("h4",{class:"font-medium text-neutral-800 mb-2"},"仲裁理由",-1)),v(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=s=>c.value=s),placeholder:"请详细说明您的仲裁理由...",class:"w-full h-24 px-3 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"},null,512),[[B,c.value]])]),t("div",Yt,[t("button",{onClick:f,class:"px-6 py-2 border border-neutral-300 rounded-lg text-neutral-700 hover:bg-neutral-50"}," 取消 "),t("button",{onClick:I,disabled:!a.value||!c.value.trim(),class:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed"}," 提交仲裁结果 ",8,te)])])):x("",!0)])])):x("",!0)]))}};export{le as default};
